<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": {{ shop.name | json }},
    {%- if section.settings.logo %}
      "logo": {{ section.settings.logo | image_url: width: section.settings.logo.width | prepend: "https:" | json }},
    {%- endif %}
    {% capture sameAs_json %}
      {%- if settings.social_twitter_url != blank -%}
        {{ settings.social_twitter_url | json }},
      {%- endif -%}
      {%- if settings.social_facebook_url != blank -%}
        {{ settings.social_facebook_url | json }},          
      {%- endif -%}
      {%- if settings.social_instagram_url != blank -%}
        {{ settings.social_instagram_url | json }},
      {%- endif -%}
      {%- if settings.social_pinterest_url != blank -%}
        {{ settings.social_pinterest_url | json }},
      {%- endif -%}
      {%- if settings.social_tiktok_url != blank -%}
        {{ settings.social_tiktok_url | json }},
      {%- endif -%}
      {%- if settings.social_snapchat_url != blank -%}
        {{ settings.social_snapchat_url | json }},      
      {%- endif -%}
      {%- if settings.social_tumblr__url != blank -%}
        {{ settings.social_tumblr_url | json }},            
      {%- endif -%}
      {%- if settings.social_linkedin_url != blank -%}
        {{ settings.social_linkedin_url | json }},
      {%- endif -%}
      {%- if settings.social_youtube_url != blank -%}
        {{ settings.social_youtube_url | json }},
      {%- endif -%}
      {%- if settings.social_vimeo_url != blank -%}
        {{ settings.social_vimeo_url | json }},
      {%- endif -%}
      {%- if settings.social_spotify_url != blank -%}
        {{ settings.social_spotify_url | json }},
      {%- endif -%}
      {%- if settings.social_twitch_url != blank -%}
        {{ settings.social_twitch_url | json }},
      {%- endif -%}
    {% endcapture %}
    "sameAs": [
      {{ sameAs_json | remove_last: ',' }}
    ],
    "url": {{ shop.url | append: page.url | json }}
  }
</script>

{%- if request.page_type == 'index' -%}
  {%- assign potential_action_target = shop.url | append: routes.search_url | append: "?q={search_term_string}" -%}
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "WebSite",
      "name": {{ shop.name | json }},
      "url": {{ shop.url | append: page.url | json }},
      "potentialAction": {
        "@type": "SearchAction",
        "target": {{ potential_action_target | json }},
        "query-input": "required name=search_term_string"
      }
    }
  </script>
{%- endif -%}
